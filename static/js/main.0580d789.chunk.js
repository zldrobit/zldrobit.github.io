(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{250:function(e,t,a){e.exports=a(251)},251:function(e,t,a){"use strict";a.r(t);var n=a(3),o=a(5),r=a(8),i=a(17),c=a(14),l=a(16),s=a(127),d=a.n(s),h=a(227),p=a.n(h),u=a(228),g=a.n(u),b=(a(258),a(280)),m=["person","bicycle","car","motorcycle","airplane","bus","train","truck","boat","traffic light","fire hydrant","stop sign","parking meter","bench","bird","cat","dog","horse","sheep","cow","elephant","bear","zebra","giraffe","backpack","umbrella","handbag","tie","suitcase","frisbee","skis","snowboard","sports ball","kite","baseball bat","baseball glove","skateboard","surfboard","tennis racket","bottle","wine glass","cup","fork","knife","spoon","bowl","banana","apple","sandwich","orange","broccoli","carrot","hot dog","pizza","donut","cake","chair","couch","potted plant","bed","dining table","toilet","tv","laptop","mouse","remote","keyboard","cell phone","microwave","oven","toaster","sink","refrigerator","book","clock","vase","scissors","teddy bear","hair drier","toothbrush"],f=320,v=320,w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return(a=Object(i.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(l)))).state={model:null,preview:"",predictions:[]},a.onDrop=function(e,t,n){a.setState({preview:e[0].preview||n[0]})},a.cropToCanvas=function(e,t,a){var n=e.naturalWidth,o=e.naturalHeight;a.clearRect(0,0,a.canvas.width,a.canvas.height),a.fillStyle="#000000",a.fillRect(0,0,t.width,t.height);var r=Math.min(t.width/e.naturalWidth,t.height/e.naturalHeight),i=Math.round(n*r),c=Math.round(o*r);a.drawImage(e,0,0,n,o,(t.width-i)/2,(t.height-c)/2,i,c)},a.onImageChange=function(e){var t=document.getElementById("canvas"),o=t.getContext("2d");a.cropToCanvas(e.target,t,o);var r=b.image.resizeBilinear(b.browser.fromPixels(t),[f,v]).div(255).expandDims(0);a.state.model.executeAsync(r).then(function(e){var a="16px sans-serif";o.font=a,o.textBaseline="top";var r,i=Object(n.a)(e,4),c=i[0],l=i[1],s=i[2],d=i[3];for(r=0;r<d.dataSync()[0];++r){var h=c.dataSync().slice(4*r,4*(r+1)),p=Object(n.a)(h,4),u=p[0],g=p[1],b=p[2],f=p[3];u*=t.width,b*=t.width,g*=t.height;var v=b-u,w=(f*=t.height)-g,y=m[s.dataSync()[r]],k=l.dataSync()[r].toFixed(2);o.strokeStyle="#00FFFF",o.lineWidth=4,o.strokeRect(u,g,v,w),o.fillStyle="#00FFFF";var S=o.measureText(y+":"+k).width,j=parseInt(a,10);o.fillRect(u,g,S+4,j+4)}for(r=0;r<d.dataSync()[0];++r){var x=c.dataSync().slice(4*r,4*(r+1)),F=Object(n.a)(x,3),D=F[0],z=F[1];D*=t.width,z*=t.height;var E=m[s.dataSync()[r]],O=l.dataSync()[r].toFixed(2);o.fillStyle="#000000",o.fillText(E+":"+O,D,z)}})},a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.loadGraphModel("/web_model/model.json").then(function(t){e.setState({model:t})})}},{key:"render",value:function(){return d.a.createElement("div",{className:"Dropzone-page"},this.state.model?d.a.createElement(g.a,{className:"Dropzone",accept:"image/jpeg, image/png, .jpg, .jpeg, .png",multiple:!1,onDrop:this.onDrop},this.state.preview?d.a.createElement("img",{alt:"upload preview",onLoad:this.onImageChange,className:"Dropzone-img",src:this.state.preview}):"Choose or drop a file.",d.a.createElement("canvas",{id:"canvas",width:"640",height:"640"})):d.a.createElement("div",{className:"Dropzone"},"Loading model..."))}}]),t}(d.a.Component),y=document.getElementById("root");p.a.render(d.a.createElement(w,null),y)},258:function(e,t,a){},266:function(e,t){},267:function(e,t){},275:function(e,t){},278:function(e,t){},279:function(e,t){}},[[250,2,1]]]);
//# sourceMappingURL=main.0580d789.chunk.js.map